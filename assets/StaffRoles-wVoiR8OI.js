import{l as te,r as l,q as K,j as e,P,n as z,o as ve,s as Ze,m as U,e as H,t as es,v as ss,R as _,d as ts}from"./index-Ds3XC1ar.js";import{c as os,S as as,B as F,D as ns,e as rs,f as is,g as pe}from"./AdminLayout-CXoTaXAo.js";import{B as M,C as me,d as he,a as cs,b as ls,c as ds}from"./card-f0OTF_cP.js";import{c as us,b as Ce,u as ps,d as ms,I as fe,S as hs}from"./Combination-DFmHiCFn.js";import{L as W}from"./label-BYM7NRxj.js";import{T as fs}from"./textarea-CyD-ufqi.js";import{u as xs}from"./index-B2wLCXzD.js";import{S as vs}from"./switch-vibjaNe0.js";import{T as Cs,a as gs,b as Z,c as L,d as bs,e as T}from"./table-DBI9rBV5.js";import{E as js,S as ws,T as Ns,D as ys,a as ks,b as _s,c as As,f as Rs,d as Ss,e as Is}from"./DeleteConfirmDialog-B8W9ttXa.js";import{s as $}from"./staffRoleService-ClLQeP2c.js";import{P as Es}from"./plus-WvUahM_s.js";import{L as xe}from"./loader-circle-Duh_MnJ-.js";import{L as Ps}from"./lock-BDSu4bSn.js";var X="Checkbox",[Ds,xt]=te(X),[Ts,oe]=Ds(X);function Os(s){const{__scopeCheckbox:r,checked:t,children:n,defaultChecked:i,disabled:o,form:d,name:p,onCheckedChange:m,required:h,value:g="on",internal_do_not_use_render:x}=s,[f,j]=U({prop:t,defaultProp:i??!1,onChange:m,caller:X}),[w,N]=l.useState(null),[y,v]=l.useState(null),c=l.useRef(!1),C=w?!!d||!!w.closest("form"):!0,k={checked:f,disabled:o,setChecked:j,control:w,setControl:N,name:p,form:d,value:g,hasConsumerStoppedPropagationRef:c,required:h,defaultChecked:E(i)?!1:i,isFormControl:C,bubbleInput:y,setBubbleInput:v};return e.jsx(Ts,{scope:r,...k,children:Ms(x)?x(k):n})}var ge="CheckboxTrigger",be=l.forwardRef(({__scopeCheckbox:s,onKeyDown:r,onClick:t,...n},i)=>{const{control:o,value:d,disabled:p,checked:m,required:h,setControl:g,setChecked:x,hasConsumerStoppedPropagationRef:f,isFormControl:j,bubbleInput:w}=oe(ge,s),N=K(i,g),y=l.useRef(m);return l.useEffect(()=>{const v=o==null?void 0:o.form;if(v){const c=()=>x(y.current);return v.addEventListener("reset",c),()=>v.removeEventListener("reset",c)}},[o,x]),e.jsx(P.button,{type:"button",role:"checkbox","aria-checked":E(m)?"mixed":m,"aria-required":h,"data-state":ke(m),"data-disabled":p?"":void 0,disabled:p,value:d,...n,ref:N,onKeyDown:z(r,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:z(t,v=>{x(c=>E(c)?!0:!c),w&&j&&(f.current=v.isPropagationStopped(),f.current||v.stopPropagation())})})});be.displayName=ge;var ae=l.forwardRef((s,r)=>{const{__scopeCheckbox:t,name:n,checked:i,defaultChecked:o,required:d,disabled:p,value:m,onCheckedChange:h,form:g,...x}=s;return e.jsx(Os,{__scopeCheckbox:t,checked:i,defaultChecked:o,disabled:p,required:d,onCheckedChange:h,name:n,form:g,value:m,internal_do_not_use_render:({isFormControl:f})=>e.jsxs(e.Fragment,{children:[e.jsx(be,{...x,ref:r,__scopeCheckbox:t}),f&&e.jsx(ye,{__scopeCheckbox:t})]})})});ae.displayName=X;var je="CheckboxIndicator",we=l.forwardRef((s,r)=>{const{__scopeCheckbox:t,forceMount:n,...i}=s,o=oe(je,t);return e.jsx(ve,{present:n||E(o.checked)||o.checked===!0,children:e.jsx(P.span,{"data-state":ke(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:r,style:{pointerEvents:"none",...s.style}})})});we.displayName=je;var Ne="CheckboxBubbleInput",ye=l.forwardRef(({__scopeCheckbox:s,...r},t)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:d,required:p,disabled:m,name:h,value:g,form:x,bubbleInput:f,setBubbleInput:j}=oe(Ne,s),w=K(t,j),N=xs(o),y=Ze(n);l.useEffect(()=>{const c=f;if(!c)return;const C=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(C,"checked").set,D=!i.current;if(N!==o&&R){const O=new Event("click",{bubbles:D});c.indeterminate=E(o),R.call(c,E(o)?!1:o),c.dispatchEvent(O)}},[f,N,o,i]);const v=l.useRef(E(o)?!1:o);return e.jsx(P.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??v.current,required:p,disabled:m,name:h,value:g,form:x,...r,tabIndex:-1,ref:w,style:{...r.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ye.displayName=Ne;function Ms(s){return typeof s=="function"}function E(s){return s==="indeterminate"}function ke(s){return E(s)?"indeterminate":s?"checked":"unchecked"}const ee=l.forwardRef(({className:s,...r},t)=>e.jsx(ae,{ref:t,className:H("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:e.jsx(we,{className:H("flex items-center justify-center text-current"),children:e.jsx(us,{className:"h-4 w-4"})})}));ee.displayName=ae.displayName;var Y="Collapsible",[Ls,_e]=te(Y),[Bs,ne]=Ls(Y),Ae=l.forwardRef((s,r)=>{const{__scopeCollapsible:t,open:n,defaultOpen:i,disabled:o,onOpenChange:d,...p}=s,[m,h]=U({prop:n,defaultProp:i??!1,onChange:d,caller:Y});return e.jsx(Bs,{scope:t,disabled:o,contentId:Ce(),open:m,onOpenToggle:l.useCallback(()=>h(g=>!g),[h]),children:e.jsx(P.div,{"data-state":ie(m),"data-disabled":o?"":void 0,...p,ref:r})})});Ae.displayName=Y;var Re="CollapsibleTrigger",Se=l.forwardRef((s,r)=>{const{__scopeCollapsible:t,...n}=s,i=ne(Re,t);return e.jsx(P.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":ie(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:r,onClick:z(s.onClick,i.onOpenToggle)})});Se.displayName=Re;var re="CollapsibleContent",Ie=l.forwardRef((s,r)=>{const{forceMount:t,...n}=s,i=ne(re,s.__scopeCollapsible);return e.jsx(ve,{present:t||i.open,children:({present:o})=>e.jsx(Fs,{...n,ref:r,present:o})})});Ie.displayName=re;var Fs=l.forwardRef((s,r)=>{const{__scopeCollapsible:t,present:n,children:i,...o}=s,d=ne(re,t),[p,m]=l.useState(n),h=l.useRef(null),g=K(r,h),x=l.useRef(0),f=x.current,j=l.useRef(0),w=j.current,N=d.open||p,y=l.useRef(N),v=l.useRef(void 0);return l.useEffect(()=>{const c=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(c)},[]),es(()=>{const c=h.current;if(c){v.current=v.current||{transitionDuration:c.style.transitionDuration,animationName:c.style.animationName},c.style.transitionDuration="0s",c.style.animationName="none";const C=c.getBoundingClientRect();x.current=C.height,j.current=C.width,y.current||(c.style.transitionDuration=v.current.transitionDuration,c.style.animationName=v.current.animationName),m(n)}},[d.open,n]),e.jsx(P.div,{"data-state":ie(d.open),"data-disabled":d.disabled?"":void 0,id:d.contentId,hidden:!N,...o,ref:g,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...s.style},children:N&&i})});function ie(s){return s?"open":"closed"}var $s=Ae,Hs=Se,Vs=Ie,A="Accordion",qs=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ce,zs,Gs]=ss(A),[J,vt]=te(A,[Gs,_e]),le=_e(),Ee=_.forwardRef((s,r)=>{const{type:t,...n}=s,i=n,o=n;return e.jsx(ce.Provider,{scope:s.__scopeAccordion,children:t==="multiple"?e.jsx(Ys,{...o,ref:r}):e.jsx(Xs,{...i,ref:r})})});Ee.displayName=A;var[Pe,Ks]=J(A),[De,Us]=J(A,{collapsible:!1}),Xs=_.forwardRef((s,r)=>{const{value:t,defaultValue:n,onValueChange:i=()=>{},collapsible:o=!1,...d}=s,[p,m]=U({prop:t,defaultProp:n??"",onChange:i,caller:A});return e.jsx(Pe,{scope:s.__scopeAccordion,value:_.useMemo(()=>p?[p]:[],[p]),onItemOpen:m,onItemClose:_.useCallback(()=>o&&m(""),[o,m]),children:e.jsx(De,{scope:s.__scopeAccordion,collapsible:o,children:e.jsx(Te,{...d,ref:r})})})}),Ys=_.forwardRef((s,r)=>{const{value:t,defaultValue:n,onValueChange:i=()=>{},...o}=s,[d,p]=U({prop:t,defaultProp:n??[],onChange:i,caller:A}),m=_.useCallback(g=>p((x=[])=>[...x,g]),[p]),h=_.useCallback(g=>p((x=[])=>x.filter(f=>f!==g)),[p]);return e.jsx(Pe,{scope:s.__scopeAccordion,value:d,onItemOpen:m,onItemClose:h,children:e.jsx(De,{scope:s.__scopeAccordion,collapsible:!0,children:e.jsx(Te,{...o,ref:r})})})}),[Js,Q]=J(A),Te=_.forwardRef((s,r)=>{const{__scopeAccordion:t,disabled:n,dir:i,orientation:o="vertical",...d}=s,p=_.useRef(null),m=K(p,r),h=zs(t),x=ps(i)==="ltr",f=z(s.onKeyDown,j=>{var V;if(!qs.includes(j.key))return;const w=j.target,N=h().filter(B=>{var q;return!((q=B.ref.current)!=null&&q.disabled)}),y=N.findIndex(B=>B.ref.current===w),v=N.length;if(y===-1)return;j.preventDefault();let c=y;const C=0,k=v-1,R=()=>{c=y+1,c>k&&(c=C)},D=()=>{c=y-1,c<C&&(c=k)};switch(j.key){case"Home":c=C;break;case"End":c=k;break;case"ArrowRight":o==="horizontal"&&(x?R():D());break;case"ArrowDown":o==="vertical"&&R();break;case"ArrowLeft":o==="horizontal"&&(x?D():R());break;case"ArrowUp":o==="vertical"&&D();break}const O=c%v;(V=N[O].ref.current)==null||V.focus()});return e.jsx(Js,{scope:t,disabled:n,direction:i,orientation:o,children:e.jsx(ce.Slot,{scope:t,children:e.jsx(P.div,{...d,"data-orientation":o,ref:m,onKeyDown:n?void 0:f})})})}),G="AccordionItem",[Qs,de]=J(G),Oe=_.forwardRef((s,r)=>{const{__scopeAccordion:t,value:n,...i}=s,o=Q(G,t),d=Ks(G,t),p=le(t),m=Ce(),h=n&&d.value.includes(n)||!1,g=o.disabled||s.disabled;return e.jsx(Qs,{scope:t,open:h,disabled:g,triggerId:m,children:e.jsx($s,{"data-orientation":o.orientation,"data-state":He(h),...p,...i,ref:r,disabled:g,open:h,onOpenChange:x=>{x?d.onItemOpen(n):d.onItemClose(n)}})})});Oe.displayName=G;var Me="AccordionHeader",Le=_.forwardRef((s,r)=>{const{__scopeAccordion:t,...n}=s,i=Q(A,t),o=de(Me,t);return e.jsx(P.h3,{"data-orientation":i.orientation,"data-state":He(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:r})});Le.displayName=Me;var se="AccordionTrigger",Be=_.forwardRef((s,r)=>{const{__scopeAccordion:t,...n}=s,i=Q(A,t),o=de(se,t),d=Us(se,t),p=le(t);return e.jsx(ce.ItemSlot,{scope:t,children:e.jsx(Hs,{"aria-disabled":o.open&&!d.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId,...p,...n,ref:r})})});Be.displayName=se;var Fe="AccordionContent",$e=_.forwardRef((s,r)=>{const{__scopeAccordion:t,...n}=s,i=Q(A,t),o=de(Fe,t),d=le(t);return e.jsx(Vs,{role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation,...d,...n,ref:r,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...s.style}})});$e.displayName=Fe;function He(s){return s?"open":"closed"}var Ws=Ee,Zs=Oe,et=Le,Ve=Be,qe=$e;const st=Ws,ze=l.forwardRef(({className:s,...r},t)=>e.jsx(Zs,{ref:t,className:H("border-b",s),...r}));ze.displayName="AccordionItem";const Ge=l.forwardRef(({className:s,children:r,...t},n)=>e.jsx(et,{className:"flex",children:e.jsxs(Ve,{ref:n,className:H("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s),...t,children:[r,e.jsx(ms,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Ge.displayName=Ve.displayName;const Ke=l.forwardRef(({className:s,children:r,...t},n)=>e.jsx(qe,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...t,children:e.jsx("div",{className:H("pb-4 pt-0",s),children:r})}));Ke.displayName=qe.displayName;const Ct=()=>{const[s,r]=l.useState([]),[t,n]=l.useState({}),[i,o]=l.useState(!0),[d,p]=l.useState(""),[m,h]=l.useState(!1),[g,x]=l.useState(!1),[f,j]=l.useState(null),[w,N]=l.useState(!1),[y,v]=l.useState(!1),{toast:c}=ts(),[C,k]=l.useState({name:"",description:"",allowed_modules:[],is_active:!0});l.useEffect(()=>{R(),D()},[]);const R=async()=>{var a,u;try{o(!0);const b=await $.getAll({limit:100});r(b.data||[])}catch(b){c({title:"Error",description:((u=(a=b.response)==null?void 0:a.data)==null?void 0:u.message)||"Failed to load roles",variant:"destructive"})}finally{o(!1)}},D=async()=>{try{const a=await $.getModules(!0);n(a)}catch(a){console.error("Failed to load modules:",a)}},O=()=>{k({name:"",description:"",allowed_modules:[],is_active:!0}),j(null),N(!1)},V=()=>{O(),h(!0)},B=a=>{j(a),N(!0),k({name:a.name,description:a.description||"",allowed_modules:a.allowed_modules||[],is_active:a.is_active}),h(!0)},q=a=>{j(a),x(!0)},Ue=a=>{k(u=>({...u,allowed_modules:u.allowed_modules.includes(a)?u.allowed_modules.filter(b=>b!==a):[...u.allowed_modules,a]}))},Xe=a=>{const u=a.map(I=>I.key),b=u.every(I=>C.allowed_modules.includes(I));k(I=>({...I,allowed_modules:b?I.allowed_modules.filter(S=>!u.includes(S)):[...new Set([...I.allowed_modules,...u])]}))},Ye=()=>{const a=Object.values(t).flat().map(u=>u.key);k(u=>({...u,allowed_modules:a}))},Je=()=>{k(a=>({...a,allowed_modules:[]}))},Qe=async()=>{var a,u;if(!C.name){c({title:"Error",description:"Role name is required",variant:"destructive"});return}if(C.allowed_modules.length===0){c({title:"Error",description:"Select at least one module",variant:"destructive"});return}try{v(!0),w&&f?(await $.update(f.id,C),c({title:"Success",description:"Role updated successfully"})):(await $.create(C),c({title:"Success",description:"Role created successfully"})),h(!1),O(),R()}catch(b){c({title:"Error",description:((u=(a=b.response)==null?void 0:a.data)==null?void 0:u.message)||"Operation failed",variant:"destructive"})}finally{v(!1)}},We=async()=>{var a,u;if(f)try{v(!0),await $.delete(f.id),c({title:"Success",description:"Role deleted successfully"}),x(!1),j(null),R()}catch(b){c({title:"Error",description:((u=(a=b.response)==null?void 0:a.data)==null?void 0:u.message)||"Failed to delete role",variant:"destructive"})}finally{v(!1)}},ue=s.filter(a=>{var u,b;return((u=a.name)==null?void 0:u.toLowerCase().includes(d.toLowerCase()))||((b=a.description)==null?void 0:b.toLowerCase().includes(d.toLowerCase()))});return e.jsxs(os,{title:"Staff Roles",subtitle:"Manage roles and assign module permissions",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between mb-6",children:[e.jsx("div",{className:"flex flex-1 gap-3",children:e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(as,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Search roles...",className:"pl-10",value:d,onChange:a=>p(a.target.value)})]})}),e.jsxs(M,{className:"gap-2",onClick:V,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create Role"]})]}),e.jsx(me,{children:e.jsx(he,{className:"p-0",children:i?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(xe,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):e.jsxs(Cs,{children:[e.jsx(gs,{children:e.jsxs(Z,{children:[e.jsx(L,{children:"Role Name"}),e.jsx(L,{children:"Description"}),e.jsx(L,{children:"Modules"}),e.jsx(L,{children:"Type"}),e.jsx(L,{children:"Status"}),e.jsx(L,{className:"text-right",children:"Actions"})]})}),e.jsxs(bs,{children:[ue.map(a=>{var u,b;return e.jsxs(Z,{className:"group",children:[e.jsx(T,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hs,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"font-medium",children:a.name})]})}),e.jsx(T,{className:"text-muted-foreground max-w-xs truncate",children:a.description||"-"}),e.jsx(T,{children:e.jsx(F,{variant:"secondary",children:(u=a.allowed_modules)!=null&&u.includes("*")?"All Modules":`${((b=a.allowed_modules)==null?void 0:b.length)||0} modules`})}),e.jsx(T,{children:a.is_system?e.jsxs(F,{variant:"outline",className:"border-primary text-primary",children:[e.jsx(Ps,{className:"w-3 h-3 mr-1"}),"System"]}):e.jsx(F,{variant:"outline",children:"Custom"})}),e.jsx(T,{children:e.jsx(F,{variant:"outline",className:a.is_active?"border-success text-success":"border-muted",children:a.is_active?"Active":"Inactive"})}),e.jsx(T,{className:"text-right",children:e.jsxs(ns,{children:[e.jsx(rs,{asChild:!0,children:e.jsx(M,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100",children:e.jsx(js,{className:"w-4 h-4"})})}),e.jsxs(is,{align:"end",children:[e.jsxs(pe,{className:"gap-2",onClick:()=>B(a),children:[e.jsx(ws,{className:"w-4 h-4"})," Edit"]}),!a.is_system&&e.jsxs(pe,{className:"gap-2 text-destructive",onClick:()=>q(a),children:[e.jsx(Ns,{className:"w-4 h-4"})," Delete"]})]})]})})]},a.id)}),ue.length===0&&!i&&e.jsx(Z,{children:e.jsx(T,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No roles found"})})]})]})})}),e.jsx(ys,{open:m,onOpenChange:h,children:e.jsxs(ks,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(_s,{children:[e.jsx(As,{children:w?"Edit Role":"Create New Role"}),e.jsx(Rs,{children:w?"Update role details and module permissions":"Create a new staff role and assign module access"})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"name",children:"Role Name *"}),e.jsx(fe,{id:"name",value:C.name,onChange:a=>k({...C,name:a.target.value}),placeholder:"e.g., Senior Nurse",disabled:w&&(f==null?void 0:f.is_system)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{children:"Status"}),e.jsxs("div",{className:"flex items-center gap-2 h-10",children:[e.jsx(vs,{checked:C.is_active,onCheckedChange:a=>k({...C,is_active:a})}),e.jsx("span",{className:"text-sm",children:C.is_active?"Active":"Inactive"})]})]}),e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx(W,{htmlFor:"description",children:"Description"}),e.jsx(fs,{id:"description",value:C.description,onChange:a=>k({...C,description:a.target.value}),placeholder:"Brief description of this role's responsibilities",rows:2})]})]}),e.jsxs(me,{children:[e.jsx(cs,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ls,{className:"text-base",children:"Module Access"}),e.jsxs(ds,{children:["Select which modules this role can access (",C.allowed_modules.length," selected)"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{variant:"outline",size:"sm",onClick:Ye,children:"Select All"}),e.jsx(M,{variant:"outline",size:"sm",onClick:Je,children:"Clear"})]})]})}),e.jsx(he,{children:e.jsx(st,{type:"multiple",defaultValue:Object.keys(t),className:"w-full",children:Object.entries(t).map(([a,u])=>{const b=u.filter(S=>C.allowed_modules.includes(S.key)).length,I=b===u.length;return e.jsxs(ze,{value:a,children:[e.jsx(Ge,{className:"hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ee,{checked:I,onCheckedChange:()=>Xe(u),onClick:S=>S.stopPropagation()}),e.jsx("span",{children:a}),e.jsxs(F,{variant:"secondary",className:"ml-2",children:[b,"/",u.length]})]})}),e.jsx(Ke,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 pl-8 pt-2",children:u.map(S=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:text-primary",children:[e.jsx(ee,{checked:C.allowed_modules.includes(S.key),onCheckedChange:()=>Ue(S.key)}),e.jsx("span",{className:"text-sm",children:S.label})]},S.key))})})]},a)})})})]})]}),e.jsxs(Ss,{children:[e.jsx(M,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),e.jsxs(M,{onClick:Qe,disabled:y,children:[y&&e.jsx(xe,{className:"w-4 h-4 mr-2 animate-spin"}),w?"Update":"Create"," Role"]})]})]})}),e.jsx(Is,{open:g,onOpenChange:x,onConfirm:We,title:"Delete Role",description:`Are you sure you want to delete "${f==null?void 0:f.name}"? Staff members with this role will need to be reassigned.`,loading:y})]})};export{Ct as default};
