import{c as b,r as t,u as P,a as E,b as R,d as Z,j as e}from"./index-C7Usvyjo.js";import{C as G,a as z,b as D,c as T,d as B,e as F,B as W}from"./card-D4lL5XKr.js";import{A as g,S as j,I as u,a as U,P as J,C as V}from"./input-BWiyuCbu.js";import{L as f}from"./label-BR1iVthZ.js";import{s as Y}from"./staffRoleService-BDtT7EUS.js";import{C as q}from"./circle-alert-D-k_PRbo.js";import{M as y}from"./mail-Dhw2lnU1.js";import{L as O}from"./lock-D_Mklr6j.js";import{E as X}from"./eye-BhGGlvcf.js";import{H as Q}from"./heart-D266j-BM.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=b("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=b("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),$={Administrator:j,Doctor:U,Nurse:Q,Receptionist:y,Pharmacist:J,"Lab Technician":_,Radiologist:g,Accountant:V};function de(){var x,h;const[o,N]=t.useState(""),[c,w]=t.useState(""),[r,v]=t.useState(!1),[i,n]=t.useState(!1),[d,m]=t.useState(""),[l,C]=t.useState([]),I=P(),M=E(),{login:S}=R(),{toast:A}=Z(),L=((h=(x=M.state)==null?void 0:x.from)==null?void 0:h.pathname)||"/";t.useEffect(()=>{(async()=>{try{const a=await Y.getActiveRoles();C(a)}catch(a){console.error("Failed to load roles:",a)}})()},[]);const k=async s=>{var a,p;s.preventDefault(),m(""),n(!0);try{await S(o,c),A({title:"Login Successful",description:"Welcome to MICHU TECH HMS"}),I(L,{replace:!0})}catch(H){m(((p=(a=H.response)==null?void 0:a.data)==null?void 0:p.message)||"Invalid email or password")}finally{n(!1)}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiMyMDVlYTYiIGZpbGwtb3BhY2l0eT0iMC4wNSI+PGNpcmNsZSBjeD0iMzAiIGN5PSIzMCIgcj0iMiIvPjwvZz48L2c+PC9zdmc+')] opacity-50"}),e.jsxs(G,{className:"w-full max-w-md relative z-10 bg-slate-900/90 border-slate-700 shadow-2xl backdrop-blur-sm",children:[e.jsxs(z,{className:"text-center space-y-4 pb-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center shadow-lg shadow-cyan-500/25",children:e.jsx(g,{className:"w-10 h-10 text-white"})})}),e.jsxs("div",{children:[e.jsx(D,{className:"text-3xl font-bold text-white",children:"HMS"}),e.jsx("p",{className:"text-cyan-400 font-semibold text-lg tracking-wider",children:"MICHU TECH"})]}),e.jsx(T,{className:"text-slate-400",children:"Hospital Management System"})]}),e.jsxs("form",{onSubmit:k,children:[e.jsxs(B,{className:"space-y-6",children:[d&&e.jsxs("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-3 flex items-center gap-2 text-red-400",children:[e.jsx(q,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:d})]}),l.length>0&&e.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg border border-slate-700",children:[e.jsx("p",{className:"text-xs text-slate-400 mb-2",children:"Available Staff Roles"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.slice(0,6).map(s=>{const a=$[s.name]||j;return e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-slate-700/50 rounded text-xs text-slate-300",children:[e.jsx(a,{className:"w-3 h-3"}),e.jsx("span",{children:s.name})]},s.id)}),l.length>6&&e.jsxs("span",{className:"text-xs text-slate-500",children:["+",l.length-6," more"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"email",className:"text-slate-300",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-500"}),e.jsx(u,{id:"email",type:"email",placeholder:"staff@hospital.com",value:o,onChange:s=>N(s.target.value),className:"pl-10 bg-slate-800 border-slate-700 text-white placeholder:text-slate-500 focus:border-cyan-500 focus:ring-cyan-500",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"password",className:"text-slate-300",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-500"}),e.jsx(u,{id:"password",type:r?"text":"password",placeholder:"••••••••",value:c,onChange:s=>w(s.target.value),className:"pl-10 pr-10 bg-slate-800 border-slate-700 text-white placeholder:text-slate-500 focus:border-cyan-500 focus:ring-cyan-500",required:!0}),e.jsx("button",{type:"button",onClick:()=>v(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-500 hover:text-slate-300",children:r?e.jsx(K,{className:"h-4 w-4"}):e.jsx(X,{className:"h-4 w-4"})})]})]})]}),e.jsxs(F,{className:"flex flex-col gap-4",children:[e.jsx(W,{type:"submit",className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white font-semibold h-11 shadow-lg shadow-cyan-500/25",disabled:i,children:i?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Signing in..."]}):"Sign In"}),e.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Contact your administrator for login credentials"})]})]})]}),e.jsx("p",{className:"absolute bottom-4 text-slate-500 text-sm",children:"© 2026 MICHU TECH. All rights reserved."})]})}export{de as default};
