import{m as se,r as l,n as K,j as e,P,o as z,p as ve,q as Ze,s as U,e as H,t as et,v as tt,R as _,d as st}from"./index-DIh5wxCw.js";import{b as ot,S as at,D as nt,d as rt,e as it,f as pe}from"./AdminLayout-CVdM3u-8.js";import{B as M,C as me,d as he,a as ct,b as lt,c as dt}from"./card-BVj2mpCd.js";import{u as Ce,a as ut,I as fe}from"./index-CXyJ5PVz.js";import{L as W}from"./label-BOSjw2jr.js";import{T as pt}from"./textarea-DqMGnoNS.js";import{B as F}from"./badge-DwC97fZb.js";import{u as mt}from"./index-lGeLsNXG.js";import{b as ht,c as ft,S as xt,L as vt}from"./Combination-B3qkWEI7.js";import{S as Ct}from"./switch-y1GkPMOp.js";import{T as bt,a as gt,b as Z,c as L,d as jt,e as T}from"./table-Da73gdk8.js";import{T as wt,D as Nt,a as yt,b as kt,c as _t,e as At,d as Rt}from"./dialog-CmLsLM44.js";import{s as $}from"./staffRoleService-B5ghlJzH.js";import{E as St,S as It,D as Et}from"./DeleteConfirmDialog-nQwB51sc.js";import{P as Pt}from"./plus-BlBB68lF.js";import{L as xe}from"./loader-circle-u1M5w34w.js";var X="Checkbox",[Dt,Cs]=se(X),[Tt,oe]=Dt(X);function Ot(t){const{__scopeCheckbox:r,checked:s,children:n,defaultChecked:i,disabled:o,form:d,name:p,onCheckedChange:m,required:h,value:b="on",internal_do_not_use_render:x}=t,[f,j]=U({prop:s,defaultProp:i??!1,onChange:m,caller:X}),[w,N]=l.useState(null),[y,v]=l.useState(null),c=l.useRef(!1),C=w?!!d||!!w.closest("form"):!0,k={checked:f,disabled:o,setChecked:j,control:w,setControl:N,name:p,form:d,value:b,hasConsumerStoppedPropagationRef:c,required:h,defaultChecked:E(i)?!1:i,isFormControl:C,bubbleInput:y,setBubbleInput:v};return e.jsx(Tt,{scope:r,...k,children:Mt(x)?x(k):n})}var be="CheckboxTrigger",ge=l.forwardRef(({__scopeCheckbox:t,onKeyDown:r,onClick:s,...n},i)=>{const{control:o,value:d,disabled:p,checked:m,required:h,setControl:b,setChecked:x,hasConsumerStoppedPropagationRef:f,isFormControl:j,bubbleInput:w}=oe(be,t),N=K(i,b),y=l.useRef(m);return l.useEffect(()=>{const v=o==null?void 0:o.form;if(v){const c=()=>x(y.current);return v.addEventListener("reset",c),()=>v.removeEventListener("reset",c)}},[o,x]),e.jsx(P.button,{type:"button",role:"checkbox","aria-checked":E(m)?"mixed":m,"aria-required":h,"data-state":ke(m),"data-disabled":p?"":void 0,disabled:p,value:d,...n,ref:N,onKeyDown:z(r,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:z(s,v=>{x(c=>E(c)?!0:!c),w&&j&&(f.current=v.isPropagationStopped(),f.current||v.stopPropagation())})})});ge.displayName=be;var ae=l.forwardRef((t,r)=>{const{__scopeCheckbox:s,name:n,checked:i,defaultChecked:o,required:d,disabled:p,value:m,onCheckedChange:h,form:b,...x}=t;return e.jsx(Ot,{__scopeCheckbox:s,checked:i,defaultChecked:o,disabled:p,required:d,onCheckedChange:h,name:n,form:b,value:m,internal_do_not_use_render:({isFormControl:f})=>e.jsxs(e.Fragment,{children:[e.jsx(ge,{...x,ref:r,__scopeCheckbox:s}),f&&e.jsx(ye,{__scopeCheckbox:s})]})})});ae.displayName=X;var je="CheckboxIndicator",we=l.forwardRef((t,r)=>{const{__scopeCheckbox:s,forceMount:n,...i}=t,o=oe(je,s);return e.jsx(ve,{present:n||E(o.checked)||o.checked===!0,children:e.jsx(P.span,{"data-state":ke(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:r,style:{pointerEvents:"none",...t.style}})})});we.displayName=je;var Ne="CheckboxBubbleInput",ye=l.forwardRef(({__scopeCheckbox:t,...r},s)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:d,required:p,disabled:m,name:h,value:b,form:x,bubbleInput:f,setBubbleInput:j}=oe(Ne,t),w=K(s,j),N=mt(o),y=Ze(n);l.useEffect(()=>{const c=f;if(!c)return;const C=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(C,"checked").set,D=!i.current;if(N!==o&&R){const O=new Event("click",{bubbles:D});c.indeterminate=E(o),R.call(c,E(o)?!1:o),c.dispatchEvent(O)}},[f,N,o,i]);const v=l.useRef(E(o)?!1:o);return e.jsx(P.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??v.current,required:p,disabled:m,name:h,value:b,form:x,...r,tabIndex:-1,ref:w,style:{...r.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ye.displayName=Ne;function Mt(t){return typeof t=="function"}function E(t){return t==="indeterminate"}function ke(t){return E(t)?"indeterminate":t?"checked":"unchecked"}const ee=l.forwardRef(({className:t,...r},s)=>e.jsx(ae,{ref:s,className:H("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:e.jsx(we,{className:H("flex items-center justify-center text-current"),children:e.jsx(ht,{className:"h-4 w-4"})})}));ee.displayName=ae.displayName;var Y="Collapsible",[Lt,_e]=se(Y),[Bt,ne]=Lt(Y),Ae=l.forwardRef((t,r)=>{const{__scopeCollapsible:s,open:n,defaultOpen:i,disabled:o,onOpenChange:d,...p}=t,[m,h]=U({prop:n,defaultProp:i??!1,onChange:d,caller:Y});return e.jsx(Bt,{scope:s,disabled:o,contentId:Ce(),open:m,onOpenToggle:l.useCallback(()=>h(b=>!b),[h]),children:e.jsx(P.div,{"data-state":ie(m),"data-disabled":o?"":void 0,...p,ref:r})})});Ae.displayName=Y;var Re="CollapsibleTrigger",Se=l.forwardRef((t,r)=>{const{__scopeCollapsible:s,...n}=t,i=ne(Re,s);return e.jsx(P.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":ie(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:r,onClick:z(t.onClick,i.onOpenToggle)})});Se.displayName=Re;var re="CollapsibleContent",Ie=l.forwardRef((t,r)=>{const{forceMount:s,...n}=t,i=ne(re,t.__scopeCollapsible);return e.jsx(ve,{present:s||i.open,children:({present:o})=>e.jsx(Ft,{...n,ref:r,present:o})})});Ie.displayName=re;var Ft=l.forwardRef((t,r)=>{const{__scopeCollapsible:s,present:n,children:i,...o}=t,d=ne(re,s),[p,m]=l.useState(n),h=l.useRef(null),b=K(r,h),x=l.useRef(0),f=x.current,j=l.useRef(0),w=j.current,N=d.open||p,y=l.useRef(N),v=l.useRef(void 0);return l.useEffect(()=>{const c=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(c)},[]),et(()=>{const c=h.current;if(c){v.current=v.current||{transitionDuration:c.style.transitionDuration,animationName:c.style.animationName},c.style.transitionDuration="0s",c.style.animationName="none";const C=c.getBoundingClientRect();x.current=C.height,j.current=C.width,y.current||(c.style.transitionDuration=v.current.transitionDuration,c.style.animationName=v.current.animationName),m(n)}},[d.open,n]),e.jsx(P.div,{"data-state":ie(d.open),"data-disabled":d.disabled?"":void 0,id:d.contentId,hidden:!N,...o,ref:b,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...t.style},children:N&&i})});function ie(t){return t?"open":"closed"}var $t=Ae,Ht=Se,Vt=Ie,A="Accordion",qt=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ce,zt,Gt]=tt(A),[J,bs]=se(A,[Gt,_e]),le=_e(),Ee=_.forwardRef((t,r)=>{const{type:s,...n}=t,i=n,o=n;return e.jsx(ce.Provider,{scope:t.__scopeAccordion,children:s==="multiple"?e.jsx(Yt,{...o,ref:r}):e.jsx(Xt,{...i,ref:r})})});Ee.displayName=A;var[Pe,Kt]=J(A),[De,Ut]=J(A,{collapsible:!1}),Xt=_.forwardRef((t,r)=>{const{value:s,defaultValue:n,onValueChange:i=()=>{},collapsible:o=!1,...d}=t,[p,m]=U({prop:s,defaultProp:n??"",onChange:i,caller:A});return e.jsx(Pe,{scope:t.__scopeAccordion,value:_.useMemo(()=>p?[p]:[],[p]),onItemOpen:m,onItemClose:_.useCallback(()=>o&&m(""),[o,m]),children:e.jsx(De,{scope:t.__scopeAccordion,collapsible:o,children:e.jsx(Te,{...d,ref:r})})})}),Yt=_.forwardRef((t,r)=>{const{value:s,defaultValue:n,onValueChange:i=()=>{},...o}=t,[d,p]=U({prop:s,defaultProp:n??[],onChange:i,caller:A}),m=_.useCallback(b=>p((x=[])=>[...x,b]),[p]),h=_.useCallback(b=>p((x=[])=>x.filter(f=>f!==b)),[p]);return e.jsx(Pe,{scope:t.__scopeAccordion,value:d,onItemOpen:m,onItemClose:h,children:e.jsx(De,{scope:t.__scopeAccordion,collapsible:!0,children:e.jsx(Te,{...o,ref:r})})})}),[Jt,Q]=J(A),Te=_.forwardRef((t,r)=>{const{__scopeAccordion:s,disabled:n,dir:i,orientation:o="vertical",...d}=t,p=_.useRef(null),m=K(p,r),h=zt(s),x=ut(i)==="ltr",f=z(t.onKeyDown,j=>{var V;if(!qt.includes(j.key))return;const w=j.target,N=h().filter(B=>{var q;return!((q=B.ref.current)!=null&&q.disabled)}),y=N.findIndex(B=>B.ref.current===w),v=N.length;if(y===-1)return;j.preventDefault();let c=y;const C=0,k=v-1,R=()=>{c=y+1,c>k&&(c=C)},D=()=>{c=y-1,c<C&&(c=k)};switch(j.key){case"Home":c=C;break;case"End":c=k;break;case"ArrowRight":o==="horizontal"&&(x?R():D());break;case"ArrowDown":o==="vertical"&&R();break;case"ArrowLeft":o==="horizontal"&&(x?D():R());break;case"ArrowUp":o==="vertical"&&D();break}const O=c%v;(V=N[O].ref.current)==null||V.focus()});return e.jsx(Jt,{scope:s,disabled:n,direction:i,orientation:o,children:e.jsx(ce.Slot,{scope:s,children:e.jsx(P.div,{...d,"data-orientation":o,ref:m,onKeyDown:n?void 0:f})})})}),G="AccordionItem",[Qt,de]=J(G),Oe=_.forwardRef((t,r)=>{const{__scopeAccordion:s,value:n,...i}=t,o=Q(G,s),d=Kt(G,s),p=le(s),m=Ce(),h=n&&d.value.includes(n)||!1,b=o.disabled||t.disabled;return e.jsx(Qt,{scope:s,open:h,disabled:b,triggerId:m,children:e.jsx($t,{"data-orientation":o.orientation,"data-state":He(h),...p,...i,ref:r,disabled:b,open:h,onOpenChange:x=>{x?d.onItemOpen(n):d.onItemClose(n)}})})});Oe.displayName=G;var Me="AccordionHeader",Le=_.forwardRef((t,r)=>{const{__scopeAccordion:s,...n}=t,i=Q(A,s),o=de(Me,s);return e.jsx(P.h3,{"data-orientation":i.orientation,"data-state":He(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:r})});Le.displayName=Me;var te="AccordionTrigger",Be=_.forwardRef((t,r)=>{const{__scopeAccordion:s,...n}=t,i=Q(A,s),o=de(te,s),d=Ut(te,s),p=le(s);return e.jsx(ce.ItemSlot,{scope:s,children:e.jsx(Ht,{"aria-disabled":o.open&&!d.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId,...p,...n,ref:r})})});Be.displayName=te;var Fe="AccordionContent",$e=_.forwardRef((t,r)=>{const{__scopeAccordion:s,...n}=t,i=Q(A,s),o=de(Fe,s),d=le(s);return e.jsx(Vt,{role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation,...d,...n,ref:r,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});$e.displayName=Fe;function He(t){return t?"open":"closed"}var Wt=Ee,Zt=Oe,es=Le,Ve=Be,qe=$e;const ts=Wt,ze=l.forwardRef(({className:t,...r},s)=>e.jsx(Zt,{ref:s,className:H("border-b",t),...r}));ze.displayName="AccordionItem";const Ge=l.forwardRef(({className:t,children:r,...s},n)=>e.jsx(es,{className:"flex",children:e.jsxs(Ve,{ref:n,className:H("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...s,children:[r,e.jsx(ft,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Ge.displayName=Ve.displayName;const Ke=l.forwardRef(({className:t,children:r,...s},n)=>e.jsx(qe,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:e.jsx("div",{className:H("pb-4 pt-0",t),children:r})}));Ke.displayName=qe.displayName;const gs=()=>{const[t,r]=l.useState([]),[s,n]=l.useState({}),[i,o]=l.useState(!0),[d,p]=l.useState(""),[m,h]=l.useState(!1),[b,x]=l.useState(!1),[f,j]=l.useState(null),[w,N]=l.useState(!1),[y,v]=l.useState(!1),{toast:c}=st(),[C,k]=l.useState({name:"",description:"",allowed_modules:[],is_active:!0});l.useEffect(()=>{R(),D()},[]);const R=async()=>{var a,u;try{o(!0);const g=await $.getAll({limit:100});r(g.data||[])}catch(g){c({title:"Error",description:((u=(a=g.response)==null?void 0:a.data)==null?void 0:u.message)||"Failed to load roles",variant:"destructive"})}finally{o(!1)}},D=async()=>{try{const a=await $.getModules(!0);n(a)}catch(a){console.error("Failed to load modules:",a)}},O=()=>{k({name:"",description:"",allowed_modules:[],is_active:!0}),j(null),N(!1)},V=()=>{O(),h(!0)},B=a=>{j(a),N(!0),k({name:a.name,description:a.description||"",allowed_modules:a.allowed_modules||[],is_active:a.is_active}),h(!0)},q=a=>{j(a),x(!0)},Ue=a=>{k(u=>({...u,allowed_modules:u.allowed_modules.includes(a)?u.allowed_modules.filter(g=>g!==a):[...u.allowed_modules,a]}))},Xe=a=>{const u=a.map(I=>I.key),g=u.every(I=>C.allowed_modules.includes(I));k(I=>({...I,allowed_modules:g?I.allowed_modules.filter(S=>!u.includes(S)):[...new Set([...I.allowed_modules,...u])]}))},Ye=()=>{const a=Object.values(s).flat().map(u=>u.key);k(u=>({...u,allowed_modules:a}))},Je=()=>{k(a=>({...a,allowed_modules:[]}))},Qe=async()=>{var a,u;if(!C.name){c({title:"Error",description:"Role name is required",variant:"destructive"});return}if(C.allowed_modules.length===0){c({title:"Error",description:"Select at least one module",variant:"destructive"});return}try{v(!0),w&&f?(await $.update(f.id,C),c({title:"Success",description:"Role updated successfully"})):(await $.create(C),c({title:"Success",description:"Role created successfully"})),h(!1),O(),R()}catch(g){c({title:"Error",description:((u=(a=g.response)==null?void 0:a.data)==null?void 0:u.message)||"Operation failed",variant:"destructive"})}finally{v(!1)}},We=async()=>{var a,u;if(f)try{v(!0),await $.delete(f.id),c({title:"Success",description:"Role deleted successfully"}),x(!1),j(null),R()}catch(g){c({title:"Error",description:((u=(a=g.response)==null?void 0:a.data)==null?void 0:u.message)||"Failed to delete role",variant:"destructive"})}finally{v(!1)}},ue=t.filter(a=>{var u,g;return((u=a.name)==null?void 0:u.toLowerCase().includes(d.toLowerCase()))||((g=a.description)==null?void 0:g.toLowerCase().includes(d.toLowerCase()))});return e.jsxs(ot,{title:"Staff Roles",subtitle:"Manage roles and assign module permissions",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between mb-6",children:[e.jsx("div",{className:"flex flex-1 gap-3",children:e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(at,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(fe,{placeholder:"Search roles...",className:"pl-10",value:d,onChange:a=>p(a.target.value)})]})}),e.jsxs(M,{className:"gap-2",onClick:V,children:[e.jsx(Pt,{className:"w-4 h-4"}),"Create Role"]})]}),e.jsx(me,{children:e.jsx(he,{className:"p-0",children:i?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(xe,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):e.jsxs(bt,{children:[e.jsx(gt,{children:e.jsxs(Z,{children:[e.jsx(L,{children:"Role Name"}),e.jsx(L,{children:"Description"}),e.jsx(L,{children:"Modules"}),e.jsx(L,{children:"Type"}),e.jsx(L,{children:"Status"}),e.jsx(L,{className:"text-right",children:"Actions"})]})}),e.jsxs(jt,{children:[ue.map(a=>{var u,g;return e.jsxs(Z,{className:"group",children:[e.jsx(T,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"font-medium",children:a.name})]})}),e.jsx(T,{className:"text-muted-foreground max-w-xs truncate",children:a.description||"-"}),e.jsx(T,{children:e.jsx(F,{variant:"secondary",children:(u=a.allowed_modules)!=null&&u.includes("*")?"All Modules":`${((g=a.allowed_modules)==null?void 0:g.length)||0} modules`})}),e.jsx(T,{children:a.is_system?e.jsxs(F,{variant:"outline",className:"border-primary text-primary",children:[e.jsx(vt,{className:"w-3 h-3 mr-1"}),"System"]}):e.jsx(F,{variant:"outline",children:"Custom"})}),e.jsx(T,{children:e.jsx(F,{variant:"outline",className:a.is_active?"border-success text-success":"border-muted",children:a.is_active?"Active":"Inactive"})}),e.jsx(T,{className:"text-right",children:e.jsxs(nt,{children:[e.jsx(rt,{asChild:!0,children:e.jsx(M,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100",children:e.jsx(St,{className:"w-4 h-4"})})}),e.jsxs(it,{align:"end",children:[e.jsxs(pe,{className:"gap-2",onClick:()=>B(a),children:[e.jsx(It,{className:"w-4 h-4"})," Edit"]}),!a.is_system&&e.jsxs(pe,{className:"gap-2 text-destructive",onClick:()=>q(a),children:[e.jsx(wt,{className:"w-4 h-4"})," Delete"]})]})]})})]},a.id)}),ue.length===0&&!i&&e.jsx(Z,{children:e.jsx(T,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No roles found"})})]})]})})}),e.jsx(Nt,{open:m,onOpenChange:h,children:e.jsxs(yt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(kt,{children:[e.jsx(_t,{children:w?"Edit Role":"Create New Role"}),e.jsx(At,{children:w?"Update role details and module permissions":"Create a new staff role and assign module access"})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"name",children:"Role Name *"}),e.jsx(fe,{id:"name",value:C.name,onChange:a=>k({...C,name:a.target.value}),placeholder:"e.g., Senior Nurse",disabled:w&&(f==null?void 0:f.is_system)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{children:"Status"}),e.jsxs("div",{className:"flex items-center gap-2 h-10",children:[e.jsx(Ct,{checked:C.is_active,onCheckedChange:a=>k({...C,is_active:a})}),e.jsx("span",{className:"text-sm",children:C.is_active?"Active":"Inactive"})]})]}),e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx(W,{htmlFor:"description",children:"Description"}),e.jsx(pt,{id:"description",value:C.description,onChange:a=>k({...C,description:a.target.value}),placeholder:"Brief description of this role's responsibilities",rows:2})]})]}),e.jsxs(me,{children:[e.jsx(ct,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(lt,{className:"text-base",children:"Module Access"}),e.jsxs(dt,{children:["Select which modules this role can access (",C.allowed_modules.length," selected)"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{variant:"outline",size:"sm",onClick:Ye,children:"Select All"}),e.jsx(M,{variant:"outline",size:"sm",onClick:Je,children:"Clear"})]})]})}),e.jsx(he,{children:e.jsx(ts,{type:"multiple",defaultValue:Object.keys(s),className:"w-full",children:Object.entries(s).map(([a,u])=>{const g=u.filter(S=>C.allowed_modules.includes(S.key)).length,I=g===u.length;return e.jsxs(ze,{value:a,children:[e.jsx(Ge,{className:"hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ee,{checked:I,onCheckedChange:()=>Xe(u),onClick:S=>S.stopPropagation()}),e.jsx("span",{children:a}),e.jsxs(F,{variant:"secondary",className:"ml-2",children:[g,"/",u.length]})]})}),e.jsx(Ke,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 pl-8 pt-2",children:u.map(S=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:text-primary",children:[e.jsx(ee,{checked:C.allowed_modules.includes(S.key),onCheckedChange:()=>Ue(S.key)}),e.jsx("span",{className:"text-sm",children:S.label})]},S.key))})})]},a)})})})]})]}),e.jsxs(Rt,{children:[e.jsx(M,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),e.jsxs(M,{onClick:Qe,disabled:y,children:[y&&e.jsx(xe,{className:"w-4 h-4 mr-2 animate-spin"}),w?"Update":"Create"," Role"]})]})]})}),e.jsx(Et,{open:b,onOpenChange:x,onConfirm:We,title:"Delete Role",description:`Are you sure you want to delete "${f==null?void 0:f.name}"? Staff members with this role will need to be reassigned.`,loading:y})]})};export{gs as default};
