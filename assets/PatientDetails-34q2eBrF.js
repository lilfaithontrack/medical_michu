import{k as P,u as A,r as m,d as T,j as e}from"./index-tth2k9CU.js";import{c as o,U as B,B as g,d as k,C as L,T as M,F as _}from"./AdminLayout-U44WIgB_.js";import{B as f,C as a,d as r,a as i,b as l}from"./card-gkoDvYc5.js";import{T as S,a as E,b as x,c as h}from"./tabs-Bh7iI3yG.js";import{p as D}from"./patientService-CctEb3mt.js";import{L as H}from"./loader-circle-CK8n1wqF.js";import{A as N}from"./arrow-left-CPUHTFMV.js";import{H as F}from"./heart-BKEbDGht.js";import{P as I}from"./phone-DKpQxR2i.js";import{M as G}from"./mail-XsMlxEhz.js";import{M as O}from"./map-pin-Buqore7F.js";import{A as R}from"./Combination-CeQr3D6T.js";const ee=()=>{const{id:n}=P(),u=A(),[s,v]=m.useState(null),[y,j]=m.useState(!0),{toast:w}=T();m.useEffect(()=>{n&&b()},[n]);const b=async()=>{var t,c;try{j(!0);const d=await D.getById(n);v(d.data||d)}catch(d){w({title:"Error",description:((c=(t=d.response)==null?void 0:t.data)==null?void 0:c.message)||"Failed to load patient details",variant:"destructive"})}finally{j(!1)}};if(y)return e.jsx(o,{title:"Loading...",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(H,{className:"w-8 h-8 animate-spin text-muted-foreground"})})});if(!s)return e.jsx(o,{title:"Patient Not Found",children:e.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Patient not found"}),e.jsxs(f,{onClick:()=>u("/patients"),children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"Back to Patients"]})]})});const C=t=>{switch(t){case"Active":return"bg-success/10 text-success";case"Critical":return"bg-destructive/10 text-destructive";case"Discharged":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},p=typeof s.allergies=="string"?JSON.parse(s.allergies||"[]"):s.allergies||[];return e.jsx(o,{title:"Patient Details",subtitle:s.name,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(f,{variant:"ghost",onClick:()=>u("/patients"),className:"mb-4",children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"Back to Patients"]}),e.jsx(a,{children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:e.jsx(B,{className:"w-12 h-12 text-primary"})}),e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:s.name}),e.jsx("p",{className:"text-muted-foreground",children:s.patient_id}),e.jsx(g,{className:`mt-2 ${C(s.status)}`,children:s.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(k,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{children:[s.age," years â€¢ ",s.gender]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(F,{className:"w-4 h-4 text-destructive"}),e.jsxs("span",{children:["Blood Group: ",s.blood_group||"N/A"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(I,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:s.phone})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(G,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:s.email||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(O,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:s.address||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(L,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{children:["Registered: ",new Date(s.created_at).toLocaleDateString()]})]})]})]})]})})}),e.jsxs(S,{defaultValue:"overview",className:"space-y-4",children:[e.jsxs(E,{className:"grid w-full grid-cols-3 lg:w-auto lg:inline-grid",children:[e.jsx(x,{value:"overview",children:"Overview"}),e.jsx(x,{value:"medical",children:"Medical Info"}),e.jsx(x,{value:"emergency",children:"Emergency"})]}),e.jsx(h,{value:"overview",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs(a,{children:[e.jsx(i,{className:"pb-2",children:e.jsxs(l,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4 text-warning"}),"Allergies"]})}),e.jsx(r,{children:p.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:p.map((t,c)=>e.jsx(g,{variant:"destructive",className:"bg-destructive/10 text-destructive",children:t},c))}):e.jsx("p",{className:"text-muted-foreground text-sm",children:"No known allergies"})})]}),e.jsxs(a,{children:[e.jsx(i,{className:"pb-2",children:e.jsxs(l,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4 text-primary"}),"Medical History"]})}),e.jsx(r,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:s.medical_history||"No medical history recorded"})})]}),e.jsxs(a,{children:[e.jsx(i,{className:"pb-2",children:e.jsxs(l,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4 text-info"}),"Notes"]})}),e.jsx(r,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:s.notes||"No additional notes"})})]})]})}),e.jsx(h,{value:"medical",className:"space-y-4",children:e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(l,{children:"Medical Information"})}),e.jsx(r,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Blood Group"}),e.jsx("p",{className:"font-medium",children:s.blood_group||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),e.jsx("p",{className:"font-medium",children:s.status})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Medical History"}),e.jsx("p",{className:"font-medium",children:s.medical_history||"No history recorded"})]})]})})]})}),e.jsx(h,{value:"emergency",className:"space-y-4",children:e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(l,{children:"Emergency Contact"})}),e.jsx(r,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Contact Name"}),e.jsx("p",{className:"font-medium",children:s.emergency_contact||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Contact Phone"}),e.jsx("p",{className:"font-medium",children:s.emergency_phone||"Not provided"})]})]})})]})})]})]})})};export{ee as default};
