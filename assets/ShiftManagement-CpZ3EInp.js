import{c as o,r as i,d as y,j as e}from"./index-tth2k9CU.js";import{c as N,B as h,C as k}from"./AdminLayout-U44WIgB_.js";import{C as f,d as m,B as M,a as v,b}from"./card-gkoDvYc5.js";import{s as w}from"./staffService-CqIGFXev.js";import{P as S}from"./plus-fTrWKLyY.js";import{L as C}from"./loader-circle-CK8n1wqF.js";import"./Combination-CeQr3D6T.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=o("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=o("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=o("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]),P=()=>{const[n,x]=i.useState([]),[p,c]=i.useState(!0),{toast:g}=y();i.useEffect(()=>{u()},[]);const u=async()=>{var t,s;try{c(!0);const a=await w.getAll({limit:100});x(a.data||[])}catch(a){g({title:"Error",description:((s=(t=a.response)==null?void 0:t.data)==null?void 0:s.message)||"Failed to load staff",variant:"destructive"})}finally{c(!1)}},d={Morning:n.filter(t=>t.shift==="Morning"),Afternoon:n.filter(t=>t.shift==="Afternoon"),Night:n.filter(t=>t.shift==="Night"),Rotating:n.filter(t=>t.shift==="Rotating")},l={Morning:L,Afternoon:R,Night:A,Rotating:k},j={Morning:"bg-warning/10 text-warning border-warning/20",Afternoon:"bg-orange-500/10 text-orange-500 border-orange-500/20",Night:"bg-purple-500/10 text-purple-500 border-purple-500/20",Rotating:"bg-info/10 text-info border-info/20"};return e.jsxs(N,{title:"Shift Management",subtitle:"Manage staff shifts and schedules",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:Object.entries(d).map(([t,s])=>{const a=l[t];return e.jsx(f,{children:e.jsx(m,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t," Shift"]}),e.jsx("p",{className:"text-3xl font-bold",children:s.length})]}),e.jsx(a,{className:"w-8 h-8 text-muted-foreground"})]})})},t)})}),e.jsx("div",{className:"flex justify-end mb-6",children:e.jsxs(M,{className:"gap-2",children:[e.jsx(S,{className:"w-4 h-4"}),"Assign Shift"]})}),p?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(C,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Object.entries(d).map(([t,s])=>{const a=l[t];return e.jsxs(f,{children:[e.jsx(v,{className:"pb-2",children:e.jsxs(b,{className:"text-lg flex items-center gap-2",children:[e.jsx(a,{className:"w-5 h-5"}),t," Shift",e.jsxs(h,{variant:"secondary",className:"ml-auto",children:[s.length," staff"]})]})}),e.jsx(m,{children:s.length>0?e.jsxs("div",{className:"space-y-2",children:[s.slice(0,5).map(r=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:r.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r.role})]}),e.jsx(h,{variant:"outline",className:j[t],children:t})]},r.id)),s.length>5&&e.jsxs("p",{className:"text-sm text-muted-foreground text-center pt-2",children:["+",s.length-5," more staff"]})]}):e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No staff assigned"})})]},t)})})]})};export{P as default};
