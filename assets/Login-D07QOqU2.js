import{c as C,r as a,u as B,a as F,b as W,d as U,j as e}from"./index-BM0IHp2M.js";import{C as V,a as Y,b as J,c as q,d as O,e as X,B as Q}from"./card-DeprxXCB.js";import{S as n,U as w,A as I,C as K,I as v,L as _,a as $,P as ee,b as se}from"./Combination-DWTH6IhY.js";import{L as i}from"./label-PzrI3jAD.js";import{S as ae,a as te,b as le,c as re,d as oe}from"./select-OA5PXWO7.js";import{s as ce}from"./staffRoleService-B60cWpup.js";import{M}from"./mail-o_jOV333.js";import{E as ie}from"./eye-Dp2HsTK1.js";import{H as ne}from"./heart-DD8J4J6P.js";import"./index-yV4U6faZ.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=C("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=C("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),S={Administrator:n,Doctor:$,Nurse:ne,Receptionist:M,Pharmacist:ee,"Lab Technician":me,Radiologist:I,Accountant:se};function we(){var g,y;const[d,L]=a.useState(""),[m,A]=a.useState(""),[r,k]=a.useState(""),[o,H]=a.useState(!1),[h,x]=a.useState(!1),[u,p]=a.useState(!0),[f,c]=a.useState(""),[b,P]=a.useState([]),R=B(),E=F(),{login:Z}=W(),{toast:j}=U(),G=((y=(g=E.state)==null?void 0:g.from)==null?void 0:y.pathname)||"/";a.useEffect(()=>{(async()=>{p(!0);try{const l=await ce.getActiveRoles();P(l)}catch(l){console.error("Failed to load roles:",l),j({title:"Warning",description:"Could not load staff roles. Some features may be limited.",variant:"destructive"})}finally{p(!1)}})()},[]);const T=async s=>{var l,N;if(s.preventDefault(),c(""),!r){c("Please select your staff role");return}x(!0);try{await Z(d,m),j({title:"Login Successful",description:"Welcome to MICHU TECH HMS"}),R(G,{replace:!0})}catch(D){c(((N=(l=D.response)==null?void 0:l.data)==null?void 0:N.message)||"Invalid email or password")}finally{x(!1)}},t=b.find(s=>s.id===r),z=t?S[t.name]||n:w;return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiMyMDVlYTYiIGZpbGwtb3BhY2l0eT0iMC4wNSI+PGNpcmNsZSBjeD0iMzAiIGN5PSIzMCIgcj0iMiIvPjwvZz48L2c+PC9zdmc+')] opacity-50"}),e.jsxs(V,{className:"w-full max-w-md relative z-10 bg-slate-900/90 border-slate-700 shadow-2xl backdrop-blur-sm",children:[e.jsxs(Y,{className:"text-center space-y-4 pb-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center shadow-lg shadow-cyan-500/25",children:e.jsx(I,{className:"w-10 h-10 text-white"})})}),e.jsxs("div",{children:[e.jsx(J,{className:"text-3xl font-bold text-white",children:"HMS"}),e.jsx("p",{className:"text-cyan-400 font-semibold text-lg tracking-wider",children:"MICHU TECH"})]}),e.jsx(q,{className:"text-slate-400",children:"Hospital Management System"})]}),e.jsxs("form",{onSubmit:T,children:[e.jsxs(O,{className:"space-y-5",children:[f&&e.jsxs("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-3 flex items-center gap-2 text-red-400",children:[e.jsx(K,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"role",className:"text-slate-300 flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-cyan-400"}),"Select Your Staff Role"]}),e.jsxs(ae,{value:r,onValueChange:k,disabled:u,children:[e.jsx(te,{id:"role",className:"w-full bg-slate-800 border-slate-700 text-white focus:border-cyan-500 focus:ring-cyan-500 h-12",children:e.jsx(le,{placeholder:u?"Loading roles...":"Choose your role...",children:t&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4 text-cyan-400"}),e.jsx("span",{children:t.name})]})})}),e.jsx(re,{className:"bg-slate-800 border-slate-700",children:b.map(s=>{const l=S[s.name]||n;return e.jsx(oe,{value:s.id,className:"text-white hover:bg-slate-700 focus:bg-slate-700 cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:"h-4 w-4 text-cyan-400"}),e.jsx("span",{children:s.name})]})},s.id)})})]}),(t==null?void 0:t.description)&&e.jsx("p",{className:"text-xs text-slate-500 mt-1 px-1",children:t.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"email",className:"text-slate-300",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-500"}),e.jsx(v,{id:"email",type:"email",placeholder:"staff@hospital.com",value:d,onChange:s=>L(s.target.value),className:"pl-10 bg-slate-800 border-slate-700 text-white placeholder:text-slate-500 focus:border-cyan-500 focus:ring-cyan-500",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"password",className:"text-slate-300",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-500"}),e.jsx(v,{id:"password",type:o?"text":"password",placeholder:"••••••••",value:m,onChange:s=>A(s.target.value),className:"pl-10 pr-10 bg-slate-800 border-slate-700 text-white placeholder:text-slate-500 focus:border-cyan-500 focus:ring-cyan-500",required:!0}),e.jsx("button",{type:"button",onClick:()=>H(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-500 hover:text-slate-300",children:o?e.jsx(de,{className:"h-4 w-4"}):e.jsx(ie,{className:"h-4 w-4"})})]})]})]}),e.jsxs(X,{className:"flex flex-col gap-4",children:[e.jsx(Q,{type:"submit",className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white font-semibold h-11 shadow-lg shadow-cyan-500/25",disabled:h||!r,children:h?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Signing in..."]}):"Sign In"}),e.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Contact your administrator for login credentials"})]})]})]}),e.jsx("p",{className:"absolute bottom-4 text-slate-500 text-sm",children:"© 2026 MICHU TECH. All rights reserved."})]})}export{we as default};
